
# 25.1s user time, 130ms system time, 50.80M rss, 390.12G vsz
# Current date: Sat Nov 25 11:46:55 2023
# Hostname: YusukenoMac-mini.local
# Files: slowquery/log/mysql-slow.log
# Overall: 631.27k total, 116 unique, 900.52 QPS, 0.70x concurrency ______
# Time range: 2023-11-25T02:34:38 to 2023-11-25T02:46:19
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time           491s     1us   336ms   778us     3ms     3ms    73us
# Lock time          864ms       0    44ms     1us     1us    95us       0
# Rows sent        286.16k       0   7.41k    0.46    0.99   27.96       0
# Rows examine     135.25M       0  14.02k  224.65   1.20k  653.86       0
# Query size        57.00M       5   1.94M   94.68  299.03   2.98k   31.70

# Profile
# Rank Query ID                            Response time Calls  R/Call V/M
# ==== =================================== ============= ====== ====== ===
#    1 0x84B457C910C4A79FC9EBECB8B1065C66  73.1736 14.9%  13103 0.0056  0.01 SELECT icons
#    2 0xDA556F9115773A1A99AA0165670CE848  63.7869 13.0% 192597 0.0003  0.00 ADMIN PREPARE
#    3 0x42EF7D7D98FBCC9723BF896EBFC51D24  49.6658 10.1%   6502 0.0076  0.01 SELECT records
#    4 0xFD38427AE3D09E3883A680F7BAF95D3A  32.7557  6.7%  35947 0.0009  0.00 SELECT livestreams livecomments
#    5 0xF1B8EF06D6CA63B24BFF433E06CCEB22  31.7894  6.5%   3379 0.0094  0.02 SELECT users livestreams livecomments
#    6 0xDB74D52D39A7090F224C4DEEAF3028C9  30.2255  6.2%   3380 0.0089  0.01 SELECT users livestreams reactions
#    7 0xC499D81D570D361DB61FC43A94BB888A  27.3969  5.6%  35949 0.0008  0.00 SELECT livestreams reactions
#    8 0x3D83BC87F3B3A00D571FFC8104A6E50C  26.9576  5.5%   4860 0.0055  0.01 SELECT records
#    9 0x38BC86A45F31C6B1EE324671506C898A  21.8638  4.4%  10846 0.0020  0.00 SELECT themes
#   10 0x4ADE2DC90689F1C4891749AF54FB8D14  16.9234  3.4%  32477 0.0005  0.00 DELETE SELECT livecomments
#   11 0x59F1B6DD8D9FEC059E55B3BFD624E8C3  16.6423  3.4%    769 0.0216  0.01 SELECT reservation_slots
#   12 0x64CC8A4E8E4B390203375597CE4D611F  13.1417  2.7%    283 0.0464  0.01 SELECT ng_words
#   13 0xFFFCA4D67EA0A788813031B8BBC3B329  10.9892  2.2%   2419 0.0045  0.00 COMMIT
#   14 0xFBC5564AE716EAE82F20BFB45F6C37E7   9.6632  2.0%  26455 0.0004  0.00 SELECT tags
#   15 0x22279D81D51006139E0C76405B54C261   6.7754  1.4%   7668 0.0009  0.00 SELECT domains domainmetadata
#   16 0x8F7679D452333ED3C7D60D22131CEFD4   5.2181  1.1%  20846 0.0003  0.00 ADMIN RESET STMT
#   17 0xEA1E6309EEEFF9A6831AD2FB940FC23C   4.2328  0.9%  10633 0.0004  0.00 SELECT users
#   18 0x7F9C0C0BA9473953B723EE16C08655F1   4.2077  0.9%     94 0.0448  0.02 SELECT reservation_slots
#   19 0xF7144185D9A142A426A36DC55C1D2623   4.1122  0.8%   7012 0.0006  0.00 SELECT livestream_tags
#   20 0xDFFCC1D78939C4D781C7C58349101F50   4.1004  0.8%   1000 0.0041  0.00 INSERT users
# MISC 0xMISC                              37.7052  7.7% 215047 0.0002   0.0 <96 ITEMS>

# Query 1: 20.19 QPS, 0.11x concurrency, ID 0x84B457C910C4A79FC9EBECB8B1065C66 at byte 145963789
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-25T02:35:12 to 2023-11-25T02:46:01
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2   13103
# Exec time     14     73s    43us    62ms     6ms    19ms     6ms     3ms
# Lock time      4    39ms       0     7ms     3us     1us    73us     1us
# Rows sent      3   9.91k       0       1    0.77    0.99    0.41    0.99
# Rows examine   0   1.13M       0     198   90.36  183.58   58.91   88.31
# Query size     0 560.33k      41      44   43.79   42.48    0.30   42.48
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ###########
# 100us  ####################
#   1ms  ################################################################
#  10ms  ########################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'icons'\G
#    SHOW CREATE TABLE `isupipe`.`icons`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT image FROM icons WHERE user_id = 1026\G

# Query 2: 288.75 QPS, 0.10x concurrency, ID 0xDA556F9115773A1A99AA0165670CE848 at byte 43585781
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T02:35:12 to 2023-11-25T02:46:19
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         30  192597
# Exec time     12     64s    22us   336ms   331us     1ms     1ms    80us
# Lock time      0    40us       0    10us       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     9   5.51M      30      30      30      30       0      30
# String:
# Databases    isupipe (191342/99%), isudns (1255/0%)
# Hosts        localhost
# Users        isucon (191342/99%), isudns (1255/0%)
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ############################################
#   1ms  ########
#  10ms  #
# 100ms  #
#    1s
#  10s+
administrator command: Prepare\G

# Query 3: 65.02 QPS, 0.50x concurrency, ID 0x42EF7D7D98FBCC9723BF896EBFC51D24 at byte 60164614
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-25T02:40:01 to 2023-11-25T02:41:41
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    6502
# Exec time     10     50s   713us    53ms     8ms    19ms     6ms     6ms
# Lock time      2    21ms       0     1ms     3us     1us    32us     1us
# Rows sent      0   1.49k       0       1    0.24    0.99    0.42       0
# Rows examine   6   8.63M   1.25k   1.45k   1.36k   1.39k   55.73   1.33k
# Query size     1 897.50k     129     209  141.35  158.58   11.91  136.99
# String:
# Databases    isudns
# Hosts        localhost
# Users        isudns
# Query_time distribution
#   1us
#  10us
# 100us  #
#   1ms  ################################################################
#  10ms  ############################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isudns` LIKE 'records'\G
#    SHOW CREATE TABLE `isudns`.`records`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT content,ttl,prio,type,domain_id,disabled,name,auth FROM records WHERE disabled=0 and name='fkm349oxkcrvl5x3zqkere5c20.u.isucon.dev' and domain_id=2\G

# Query 4: 98.76 QPS, 0.09x concurrency, ID 0xFD38427AE3D09E3883A680F7BAF95D3A at byte 187237362
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T02:40:15 to 2023-11-25T02:46:19
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          5   35947
# Exec time      6     33s   263us    14ms   911us     3ms   887us   568us
# Lock time      7    61ms       0     2ms     1us     1us    15us     1us
# Rows sent     12  35.10k       1       1       1       1       0       1
# Rows examine  29  39.85M    1001   1.25k   1.14k   1.20k  131.38   1.20k
# Query size     7   4.11M     117     120  119.75  118.34    0.83  118.34
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ########################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livestreams'\G
#    SHOW CREATE TABLE `isupipe`.`livestreams`\G
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livecomments'\G
#    SHOW CREATE TABLE `isupipe`.`livecomments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT IFNULL(SUM(l2.tip), 0) FROM livestreams l INNER JOIN livecomments l2 ON l.id = l2.livestream_id WHERE l.id = 3263\G

# Query 5: 38.40 QPS, 0.36x concurrency, ID 0xF1B8EF06D6CA63B24BFF433E06CCEB22 at byte 149353386
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.02
# Time range: 2023-11-25T02:40:12 to 2023-11-25T02:41:40
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    3379
# Exec time      6     32s     1ms    81ms     9ms    34ms    12ms     2ms
# Lock time      1    13ms       0     2ms     3us     1us    47us     1us
# Rows sent      1   3.30k       1       1       1       1       0       1
# Rows examine   4   6.75M   1.96k   2.32k   2.04k   2.27k  118.45   1.96k
# Query size     0 543.84k     163     166  164.81  158.58       0  158.58
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms  ###############################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'users'\G
#    SHOW CREATE TABLE `isupipe`.`users`\G
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livestreams'\G
#    SHOW CREATE TABLE `isupipe`.`livestreams`\G
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livecomments'\G
#    SHOW CREATE TABLE `isupipe`.`livecomments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT IFNULL(SUM(l2.tip), 0) FROM users u
		INNER JOIN livestreams l ON l.user_id = u.id	
		INNER JOIN livecomments l2 ON l2.livestream_id = l.id
		WHERE u.id = 272\G

# Query 6: 38.41 QPS, 0.34x concurrency, ID 0xDB74D52D39A7090F224C4DEEAF3028C9 at byte 144603068
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-25T02:40:12 to 2023-11-25T02:41:40
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    3380
# Exec time      6     30s     1ms    73ms     9ms    33ms    11ms     1ms
# Lock time      1     9ms     1us     2ms     2us     1us    35us     1us
# Rows sent      1   3.30k       1       1       1       1       0       1
# Rows examine   4   6.75M   1.96k   2.30k   2.04k   2.27k  118.44   1.96k
# Query size     0 477.98k     143     146  144.81  143.84    0.86  143.84
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms  ##############################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'users'\G
#    SHOW CREATE TABLE `isupipe`.`users`\G
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livestreams'\G
#    SHOW CREATE TABLE `isupipe`.`livestreams`\G
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'reactions'\G
#    SHOW CREATE TABLE `isupipe`.`reactions`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) FROM users u
		INNER JOIN livestreams l ON l.user_id = u.id
		INNER JOIN reactions r ON r.livestream_id = l.id
		WHERE u.id = 230\G

# Query 7: 98.76 QPS, 0.08x concurrency, ID 0xC499D81D570D361DB61FC43A94BB888A at byte 187682549
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T02:40:15 to 2023-11-25T02:46:19
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          5   35949
# Exec time      5     27s   229us    14ms   762us     2ms   757us   467us
# Lock time      9    82ms       0     3ms     2us     1us    28us     1us
# Rows sent     12  35.11k       1       1       1       1       0       1
# Rows examine  29  39.40M    1001   1.22k   1.12k   1.20k  126.50   1.20k
# Query size     6   3.45M      98     101  100.75   97.36       0   97.36
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  #####################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livestreams'\G
#    SHOW CREATE TABLE `isupipe`.`livestreams`\G
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'reactions'\G
#    SHOW CREATE TABLE `isupipe`.`reactions`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) FROM livestreams l INNER JOIN reactions r ON l.id = r.livestream_id WHERE l.id = 3297\G

# Query 8: 48.60 QPS, 0.27x concurrency, ID 0x3D83BC87F3B3A00D571FFC8104A6E50C at byte 150650693
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-25T02:40:01 to 2023-11-25T02:41:41
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    4860
# Exec time      5     27s   673us    61ms     6ms    16ms     6ms     3ms
# Lock time      3    28ms       0     7ms     5us     1us   122us     1us
# Rows sent      0   2.45k       0       1    0.52    0.99    0.50    0.99
# Rows examine   4   6.44M   1.25k   1.45k   1.36k   1.39k   56.65   1.33k
# Query size     1 640.00k     126     208  134.85  151.03   11.09  124.25
# String:
# Databases    isudns
# Hosts        localhost
# Users        isudns
# Query_time distribution
#   1us
#  10us
# 100us  ##
#   1ms  ################################################################
#  10ms  ###############
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isudns` LIKE 'records'\G
#    SHOW CREATE TABLE `isudns`.`records`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT content,ttl,prio,type,domain_id,disabled,name,auth FROM records WHERE disabled=0 and type='SOA' and name='u.isucon.dev'\G

# Query 9: 16.71 QPS, 0.03x concurrency, ID 0x38BC86A45F31C6B1EE324671506C898A at byte 64015598
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T02:35:12 to 2023-11-25T02:46:01
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1   10846
# Exec time      4     22s   244us    39ms     2ms     7ms     3ms   881us
# Lock time      2    24ms       0     2ms     2us     1us    26us     1us
# Rows sent      3  10.59k       1       1       1       1       0       1
# Rows examine   8  11.34M     802   1.18k   1.07k   1.14k   65.17   1.04k
# Query size     0 432.24k      38      41   40.81   40.45    0.74   40.45
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ########################################################
#  10ms  ##
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'themes'\G
#    SHOW CREATE TABLE `isupipe`.`themes`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM themes WHERE user_id = 1017\G

# Query 10: 532.41 QPS, 0.28x concurrency, ID 0x4ADE2DC90689F1C4891749AF54FB8D14 at byte 108982905
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T02:40:40 to 2023-11-25T02:41:41
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          5   32477
# Exec time      3     17s    50us    26ms   521us     2ms   937us   176us
# Lock time     13   117ms       0     5ms     3us     1us    65us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0  63.44k       2       4    2.00    1.96    0.02    1.96
# Query size    18  10.29M     266     529  332.18  381.65   26.54  313.99
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################
# 100us  ################################################################
#   1ms  ###############
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livecomments'\G
#    SHOW CREATE TABLE `isupipe`.`livecomments`\G
DELETE FROM livecomments
			WHERE
			id = 1075 AND
			livestream_id = 7531 AND
			(SELECT COUNT(*)
			FROM
			(SELECT 'あなたのプレイを見てると、アクションゲームが上手くなりたくなります！' AS text) AS texts
			INNER JOIN
			(SELECT CONCAT('%', '光学音響物理', '%')	AS pattern) AS patterns
			ON texts.text LIKE patterns.pattern) >= 1\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select * from  livecomments
			WHERE
			id = 1075 AND
			livestream_id = 7531 AND
			(SELECT COUNT(*)
			FROM
			(SELECT 'あなたのプレイを見てると、アクションゲームが上手くなりたくなります！' AS text) AS texts
			INNER JOIN
			(SELECT CONCAT('%', '光学音響物理', '%')	AS pattern) AS patterns
			ON texts.text LIKE patterns.pattern) >= 1\G

# Query 11: 8.54 QPS, 0.18x concurrency, ID 0x59F1B6DD8D9FEC059E55B3BFD624E8C3 at byte 119795932
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-25T02:40:11 to 2023-11-25T02:41:41
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     769
# Exec time      3     17s     2ms    78ms    22ms    44ms    13ms    20ms
# Lock time      0     1ms       0   364us     1us     1us    13us     1us
# Rows sent      0     769       1       1       1       1       0       1
# Rows examine   4   6.42M   8.55k   8.55k   8.55k   8.55k       0   8.55k
# Query size     0  64.58k      86      86      86      86       0      86
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ###############
#  10ms  ################################################################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'reservation_slots'\G
#    SHOW CREATE TABLE `isupipe`.`reservation_slots`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT slot FROM reservation_slots WHERE start_at = 1701266400 AND end_at = 1701270000\G

# Query 12: 3.58 QPS, 0.17x concurrency, ID 0x64CC8A4E8E4B390203375597CE4D611F at byte 107140646
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-25T02:40:22 to 2023-11-25T02:41:41
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     283
# Exec time      2     13s     4ms   120ms    46ms    75ms    20ms    46ms
# Lock time      0     4ms       0     2ms    14us     1us   150us     1us
# Rows sent      0      94       0       3    0.33    0.99    0.51       0
# Rows examine   2   3.87M  14.00k  14.02k  14.01k  13.78k       0  13.78k
# Query size     0  27.36k      97      99   98.99   97.36    0.39   97.36
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ###
#  10ms  ################################################################
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'ng_words'\G
#    SHOW CREATE TABLE `isupipe`.`ng_words`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT id, user_id, livestream_id, word FROM ng_words WHERE user_id = 1021 AND livestream_id = 7532\G

# Query 13: 3.65 QPS, 0.02x concurrency, ID 0xFFFCA4D67EA0A788813031B8BBC3B329 at byte 107117741
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T02:34:58 to 2023-11-25T02:46:01
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    2419
# Exec time      2     11s    22us    37ms     5ms    13ms     5ms     4ms
# Lock time      0       0       0       0       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     0  14.17k       6       6       6       6       0       6
# String:
# Databases    isupipe (2211/91%), isudns (208/8%)
# Hosts        localhost
# Users        isucon (2211/91%), isudns (208/8%)
# Query_time distribution
#   1us
#  10us  ###########################
# 100us  ############
#   1ms  ################################################################
#  10ms  #############
# 100ms
#    1s
#  10s+
commit\G

# Query 14: 80.66 QPS, 0.03x concurrency, ID 0xFBC5564AE716EAE82F20BFB45F6C37E7 at byte 140697605
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T02:40:33 to 2023-11-25T02:46:01
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          4   26455
# Exec time      1     10s    34us    23ms   365us     1ms   821us   113us
# Lock time      7    64ms       0     7ms     2us     1us    51us     1us
# Rows sent      9  25.83k       1       1       1       1       0       1
# Rows examine   0  25.83k       1       1       1       1       0       1
# Query size     1 825.06k      31      33   31.94   31.70    0.45   31.70
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ############################################################
#   1ms  ###########
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'tags'\G
#    SHOW CREATE TABLE `isupipe`.`tags`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM tags WHERE id = 93\G

# Query 15: 76.68 QPS, 0.07x concurrency, ID 0x22279D81D51006139E0C76405B54C261 at byte 66802563
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T02:40:01 to 2023-11-25T02:41:41
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    7668
# Exec time      1      7s    85us    52ms   883us     3ms     2ms   301us
# Lock time      5    51ms     1us     5ms     6us     2us    82us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     1 853.66k     114     114     114     114       0     114
# String:
# Databases    isudns
# Hosts        localhost
# Users        isudns
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  ####################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isudns` LIKE 'domains'\G
#    SHOW CREATE TABLE `isudns`.`domains`\G
#    SHOW TABLE STATUS FROM `isudns` LIKE 'domainmetadata'\G
#    SHOW CREATE TABLE `isudns`.`domainmetadata`\G
# EXPLAIN /*!50100 PARTITIONS*/
select kind,content from domains, domainmetadata where domainmetadata.domain_id=domains.id and name='u.isucon.dev'\G

# Query 16: 208.46 QPS, 0.05x concurrency, ID 0x8F7679D452333ED3C7D60D22131CEFD4 at byte 152545485
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T02:40:01 to 2023-11-25T02:41:41
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          3   20846
# Exec time      1      5s    10us    29ms   250us     1ms   917us    44us
# Lock time      0       0       0       0       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     1 671.79k      33      33      33      33       0      33
# String:
# Databases    isudns
# Hosts        localhost
# Users        isudns
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ####################
#   1ms  ####
#  10ms  #
# 100ms
#    1s
#  10s+
administrator command: Reset stmt\G

# Query 17: 16.38 QPS, 0.01x concurrency, ID 0xEA1E6309EEEFF9A6831AD2FB940FC23C at byte 126236328
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T02:35:12 to 2023-11-25T02:46:01
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1   10633
# Exec time      0      4s    44us    36ms   398us     2ms   917us   113us
# Lock time      2    25ms       0     2ms     2us     1us    34us     1us
# Rows sent      3  10.38k       1       1       1       1       0       1
# Rows examine   0  10.38k       1       1       1       1       0       1
# Query size     0 361.41k      32      35   34.80   34.95    0.73   34.95
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ###########################################################
#   1ms  ############
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'users'\G
#    SHOW CREATE TABLE `isupipe`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM users WHERE id = 1091\G

# Query 18: 1.06 QPS, 0.05x concurrency, ID 0x7F9C0C0BA9473953B723EE16C08655F1 at byte 75365606
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.02
# Time range: 2023-11-25T02:40:11 to 2023-11-25T02:41:40
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      94
# Exec time      0      4s     5ms   112ms    45ms    91ms    31ms    48ms
# Lock time      0   993us       0   884us    10us     1us    90us     1us
# Rows sent      0     769       1      20    8.18   17.65    5.97    8.91
# Rows examine   0 804.05k   8.55k   8.55k   8.55k   8.55k       0   8.55k
# Query size     0   8.81k      96      96      96      96       0      96
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ###########################
#  10ms  ################################################################
# 100ms  ####
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'reservation_slots'\G
#    SHOW CREATE TABLE `isupipe`.`reservation_slots`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM reservation_slots WHERE start_at >= 1701082800 AND end_at <= 1701100800 FOR UPDATE\G

# Query 19: 20.09 QPS, 0.01x concurrency, ID 0xF7144185D9A142A426A36DC55C1D2623 at byte 50772902
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T02:40:12 to 2023-11-25T02:46:01
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    7012
# Exec time      0      4s    63us    22ms   586us     2ms     1ms   152us
# Lock time      3    30ms       0    10ms     4us     1us   128us     1us
# Rows sent      9  25.83k       0      11    3.77    4.96    1.79    4.96
# Rows examine   0  25.83k       0      11    3.77    4.96    1.79    4.96
# Query size     0 383.25k      54      56   55.97   54.21    0.13   54.21
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ######################
# 100us  ################################################################
#   1ms  ###############
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livestream_tags'\G
#    SHOW CREATE TABLE `isupipe`.`livestream_tags`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM livestream_tags WHERE livestream_id = 7525\G

# Query 20: 125 QPS, 0.51x concurrency, ID 0xDFFCC1D78939C4D781C7C58349101F50 at byte 608694
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T02:40:01 to 2023-11-25T02:40:09
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1000
# Exec time      0      4s     2ms    10ms     4ms     6ms   860us     4ms
# Lock time      0     1ms     1us    10us     1us     1us       0     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     0 401.18k     192     463  410.81  420.77   16.87  400.73
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'users'\G
#    SHOW CREATE TABLE `isupipe`.`users`\G
INSERT INTO users (id, name, display_name, description, password) VALUES (646, 'hiroshiendo0', '感慨', '普段営業をしています。\nよろしくおねがいします！\n\n連絡は以下からお願いします。\n\nウェブサイト: http://hiroshiendo.example.com/\nメールアドレス: hiroshiendo@example.com\n', '$2a$04$UwZb6IFm4tgS1pLvujdaV.sK3Gq9zN2IJyIuGjqtMyuSL/dZXfqjK')\G
