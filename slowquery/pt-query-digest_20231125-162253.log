
# 15.3s user time, 120ms system time, 48.31M rss, 390.15G vsz
# Current date: Sat Nov 25 16:17:21 2023
# Hostname: YusukenoMac-mini.local
# Files: slowquery/log/mysql-slow.log
# Overall: 344.22k total, 91 unique, 1.83k QPS, 1.81x concurrency ________
# Time range: 2023-11-25T07:13:28 to 2023-11-25T07:16:36
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time           341s     1us   385ms   989us     3ms     4ms   152us
# Lock time          897ms       0    17ms     2us     1us    70us     1us
# Rows sent        296.47k       0   7.32k    0.88    0.99   23.58       0
# Rows examine      28.06M       0  14.03k   85.49    4.96  620.15    0.99
# Query size        36.22M       5   1.94M  110.32  329.68   3.52k   40.45

# Profile
# Rank Query ID                            Response time Calls R/Call V/M 
# ==== =================================== ============= ===== ====== ====
#    1 0xE95402160454FC1080F40D776F03D876  77.2007 22.7%  4957 0.0156  0.02 SELECT reactions livestreams
#    2 0x4ADE2DC90689F1C4891749AF54FB8D14  41.8291 12.3% 48673 0.0009  0.00 DELETE SELECT livecomments
#    3 0xD8C4E59323BF6C37CAFB9FE6E348ED76  35.3448 10.4%  4953 0.0071  0.02 SELECT livestreams livecomments
#    4 0xFBC5564AE716EAE82F20BFB45F6C37E7  24.7131  7.3% 57405 0.0004  0.00 SELECT tags
#    5 0x59F1B6DD8D9FEC059E55B3BFD624E8C3  24.1031  7.1%   968 0.0249  0.01 SELECT reservation_slots
#    6 0x38BC86A45F31C6B1EE324671506C898A  15.7469  4.6% 22947 0.0007  0.00 SELECT themes
#    7 0x22279D81D51006139E0C76405B54C261  15.3211  4.5% 26200 0.0006  0.00 SELECT domains domainmetadata
#    8 0xFFFCA4D67EA0A788813031B8BBC3B329  13.9149  4.1%  3960 0.0035  0.00 COMMIT
#    9 0x42EF7D7D98FBCC9723BF896EBFC51D24  13.8765  4.1% 21347 0.0007  0.00 SELECT records
#   10 0x8F7679D452333ED3C7D60D22131CEFD4  12.0524  3.5% 63544 0.0002  0.00 ADMIN RESET STMT
#   11 0x3D83BC87F3B3A00D571FFC8104A6E50C  11.0019  3.2% 15126 0.0007  0.00 SELECT records
#   12 0xEA1E6309EEEFF9A6831AD2FB940FC23C  10.1320  3.0% 22497 0.0005  0.00 SELECT users
#   13 0xF7144185D9A142A426A36DC55C1D2623   7.8810  2.3% 13691 0.0006  0.00 SELECT livestream_tags
#   14 0xA3401CA3ABCC04C3AB221DB8AD5CBF26   6.2776  1.8%   108 0.0581  0.03 UPDATE reservation_slots
#   15 0x7F9C0C0BA9473953B723EE16C08655F1   4.9758  1.5%   109 0.0456  0.02 SELECT reservation_slots
#   16 0xD6032FE08E1FE706A928B8B7CBA06B85   4.9137  1.4% 11215 0.0004  0.00 SELECT livestreams
#   17 0xD2A0864774622BA36F6557496405CF75   4.3006  1.3%  1439 0.0030  0.00 INSERT themes
#   18 0xDFFCC1D78939C4D781C7C58349101F50   3.7744  1.1%  1000 0.0038  0.00 INSERT users
# MISC 0xMISC                              13.2884  3.9% 24084 0.0006   0.0 <73 ITEMS>

# Query 1: 66.09 QPS, 1.03x concurrency, ID 0xE95402160454FC1080F40D776F03D876 at byte 38632233
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.02
# Time range: 2023-11-25T07:15:21 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    4957
# Exec time     22     77s   248us   128ms    16ms    48ms    16ms     9ms
# Lock time      2    22ms       0     5ms     4us     1us   101us     1us
# Rows sent      1   4.84k       1       1       1       1       0       1
# Rows examine  37  10.65M       0   2.75k   2.20k   2.62k  263.46   2.06k
# Query size     1 594.29k     121     124  122.77  118.34    0.00  118.34
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  #
#   1ms  ################################################################
#  10ms  ##############################################################
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'reactions'\G
#    SHOW CREATE TABLE `isupipe`.`reactions`\G
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livestreams'\G
#    SHOW CREATE TABLE `isupipe`.`livestreams`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*)
      FROM reactions r
      INNER JOIN livestreams l ON r.livestream_id = l.id
      WHERE l.user_id = 205\G

# Query 2: 797.92 QPS, 0.69x concurrency, ID 0x4ADE2DC90689F1C4891749AF54FB8D14 at byte 61950711
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:35 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         14   48673
# Exec time     12     42s   100us    37ms   859us     3ms     1ms   224us
# Lock time     16   151ms       0     7ms     3us     1us    60us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0  95.08k       2       4    2.00    1.96    0.02    1.96
# Query size    42  15.39M     263     538  331.47  381.65   27.22  313.99
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  #####################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livecomments'\G
#    SHOW CREATE TABLE `isupipe`.`livecomments`\G
DELETE FROM livecomments
			WHERE
			id = 929 AND
			livestream_id = 7531 AND
			(SELECT COUNT(*)
			FROM
			(SELECT '明日仕事だけど、眠れなくて見てるよ！' AS text) AS texts
			INNER JOIN
			(SELECT CONCAT('%', '熱核融合', '%')	AS pattern) AS patterns
			ON texts.text LIKE patterns.pattern) >= 1\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select * from  livecomments
			WHERE
			id = 929 AND
			livestream_id = 7531 AND
			(SELECT COUNT(*)
			FROM
			(SELECT '明日仕事だけど、眠れなくて見てるよ！' AS text) AS texts
			INNER JOIN
			(SELECT CONCAT('%', '熱核融合', '%')	AS pattern) AS patterns
			ON texts.text LIKE patterns.pattern) >= 1\G

# Query 3: 66.04 QPS, 0.47x concurrency, ID 0xD8C4E59323BF6C37CAFB9FE6E348ED76 at byte 47850838
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.02
# Time range: 2023-11-25T07:15:21 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    4953
# Exec time     10     35s   152us   146ms     7ms    38ms    13ms     2ms
# Lock time      4    38ms       0    17ms     7us     1us   260us     1us
# Rows sent      1   4.84k       1       1       1       1       0       1
# Rows examine  21   5.92M       0   2.26k   1.22k   2.06k  980.80   1.86k
# Query size     1 598.65k     122     125  123.77  118.34    0.12  118.34
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  #################################
#   1ms  ################################################################
#  10ms  #######################
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livestreams'\G
#    SHOW CREATE TABLE `isupipe`.`livestreams`\G
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livecomments'\G
#    SHOW CREATE TABLE `isupipe`.`livecomments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT IFNULL(SUM(lc.tip), 0)
FROM livestreams l
INNER JOIN livecomments lc ON lc.livestream_id = l.id
WHERE l.user_id = 142\G

# Query 4: 856.79 QPS, 0.37x concurrency, ID 0xFBC5564AE716EAE82F20BFB45F6C37E7 at byte 78827059
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:29 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         16   57405
# Exec time      7     25s    39us    27ms   430us     2ms   888us   113us
# Lock time     22   201ms       0     8ms     3us     1us    74us     1us
# Rows sent     18  56.06k       1       1       1       1       0       1
# Rows examine   0  56.06k       1       1       1       1       0       1
# Query size     4   1.75M      31      33   31.97   31.70    0.41   31.70
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ###############################################################
# 100us  ################################################################
#   1ms  ###############
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'tags'\G
#    SHOW CREATE TABLE `isupipe`.`tags`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM tags WHERE id = 84\G

# Query 5: 12.91 QPS, 0.32x concurrency, ID 0x59F1B6DD8D9FEC059E55B3BFD624E8C3 at byte 31539550
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-25T07:15:21 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     968
# Exec time      7     24s     2ms   105ms    25ms    56ms    17ms    21ms
# Lock time      0     5ms       0     4ms     5us     1us   111us     1us
# Rows sent      0     968       1       1       1       1       0       1
# Rows examine  28   8.09M   8.55k   8.55k   8.55k   8.55k       0   8.55k
# Query size     0  81.30k      86      86      86      86       0      86
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ##############
#  10ms  ################################################################
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'reservation_slots'\G
#    SHOW CREATE TABLE `isupipe`.`reservation_slots`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT slot FROM reservation_slots WHERE start_at = 1701061200 AND end_at = 1701064800\G

# Query 6: 305.96 QPS, 0.21x concurrency, ID 0x38BC86A45F31C6B1EE324671506C898A at byte 77643609
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:21 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          6   22947
# Exec time      4     16s    78us    32ms   686us     2ms     1ms   167us
# Lock time      6    55ms       0     3ms     2us     1us    34us     1us
# Rows sent      7  22.41k       1       1       1       1       0       1
# Rows examine   0  22.41k       1       1       1       1       0       1
# Query size     2 916.30k      38      41   40.89   40.45    0.59   40.45
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ####
# 100us  ################################################################
#   1ms  ##################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'themes'\G
#    SHOW CREATE TABLE `isupipe`.`themes`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM themes WHERE user_id = 1095\G

# Query 7: 308.24 QPS, 0.18x concurrency, ID 0x22279D81D51006139E0C76405B54C261 at byte 85492258
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:11 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          7   26200
# Exec time      4     15s    83us    52ms   584us     2ms     1ms   176us
# Lock time      9    88ms       0     9ms     3us     1us    80us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     7   2.85M     114     114     114     114       0     114
# String:
# Databases    isudns
# Hosts        localhost
# Users        isudns
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  ###########
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isudns` LIKE 'domains'\G
#    SHOW CREATE TABLE `isudns`.`domains`\G
#    SHOW TABLE STATUS FROM `isudns` LIKE 'domainmetadata'\G
#    SHOW CREATE TABLE `isudns`.`domainmetadata`\G
# EXPLAIN /*!50100 PARTITIONS*/
select kind,content from domains, domainmetadata where domainmetadata.domain_id=domains.id and name='u.isucon.dev'\G

# Query 8: 52.80 QPS, 0.19x concurrency, ID 0xFFFCA4D67EA0A788813031B8BBC3B329 at byte 105657963
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:21 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    3960
# Exec time      4     14s    18us    36ms     4ms    10ms     4ms     3ms
# Lock time      0       0       0       0       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     0  23.20k       6       6       6       6       0       6
# String:
# Databases    isupipe (3520/88%), isudns (440/11%)
# Hosts        localhost
# Users        isucon (3520/88%), isudns (440/11%)
# Query_time distribution
#   1us
#  10us  ###################################
# 100us  ###########
#   1ms  ################################################################
#  10ms  ######
# 100ms
#    1s
#  10s+
COMMIT\G

# Query 9: 251.14 QPS, 0.16x concurrency, ID 0x42EF7D7D98FBCC9723BF896EBFC51D24 at byte 92676353
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:11 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          6   21347
# Exec time      4     14s    92us    27ms   650us     2ms     1ms   204us
# Lock time      7    71ms       0    11ms     3us     1us   100us     1us
# Rows sent      0   2.73k       0       1    0.13    0.99    0.33       0
# Rows examine   0   2.73k       0       1    0.13    0.99    0.33       0
# Query size     7   2.89M     129     217  142.10  158.58   12.05  136.99
# String:
# Databases    isudns
# Hosts        localhost
# Users        isudns
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  #############
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isudns` LIKE 'records'\G
#    SHOW CREATE TABLE `isudns`.`records`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT content,ttl,prio,type,domain_id,disabled,name,auth FROM records WHERE disabled=0 and name='pipe.u.isucon.dev' and domain_id=2\G

# Query 10: 747.58 QPS, 0.14x concurrency, ID 0x8F7679D452333ED3C7D60D22131CEFD4 at byte 92898836
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:11 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         18   63544
# Exec time      3     12s     9us    22ms   189us   690us   687us    44us
# Lock time      0       0       0       0       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     5   2.00M      33      33      33      33       0      33
# String:
# Databases    isudns
# Hosts        localhost
# Users        isudns
# Query_time distribution
#   1us  #
#  10us  ################################################################
# 100us  ################
#   1ms  ##
#  10ms  #
# 100ms
#    1s
#  10s+
administrator command: Reset stmt\G

# Query 11: 177.95 QPS, 0.13x concurrency, ID 0x3D83BC87F3B3A00D571FFC8104A6E50C at byte 61329820
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:11 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          4   15126
# Exec time      3     11s    94us    40ms   727us     3ms     1ms   214us
# Lock time      6    60ms       0     9ms     3us     1us    99us     1us
# Rows sent      2   7.51k       0       1    0.51    0.99    0.50    0.99
# Rows examine   0  23.90k       0       3    1.62    2.90    1.38    2.90
# Query size     5   1.96M     126     216  135.91  151.03   11.43  124.25
# String:
# Databases    isudns
# Hosts        localhost
# Users        isudns
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  ##############
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isudns` LIKE 'records'\G
#    SHOW CREATE TABLE `isudns`.`records`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT content,ttl,prio,type,domain_id,disabled,name,auth FROM records WHERE disabled=0 and type='SOA' and name='u.isucon.dev'\G

# Query 12: 299.96 QPS, 0.14x concurrency, ID 0xEA1E6309EEEFF9A6831AD2FB940FC23C at byte 106515199
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:21 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          6   22497
# Exec time      2     10s    51us    50ms   450us     2ms     1ms   119us
# Lock time      8    76ms       0     7ms     3us     1us    74us     1us
# Rows sent      7  21.97k       1       1       1       1       0       1
# Rows examine   0  21.97k       1       1       1       1       0       1
# Query size     2 766.46k      32      35   34.89   34.95    0.57   34.95
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ##############################################
# 100us  ################################################################
#   1ms  #############
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'users'\G
#    SHOW CREATE TABLE `isupipe`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM users WHERE id = 1033\G

# Query 13: 182.55 QPS, 0.11x concurrency, ID 0xF7144185D9A142A426A36DC55C1D2623 at byte 67720462
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:21 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          3   13691
# Exec time      2      8s    75us    30ms   575us     2ms     1ms   152us
# Lock time      6    54ms       0     3ms     3us     1us    68us     1us
# Rows sent     18  56.06k       0      11    4.19    4.96    1.56    4.96
# Rows examine   0  56.06k       0      11    4.19    4.96    1.56    4.96
# Query size     2 748.43k      53      56   55.98   54.21    0.12   54.21
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  ############
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livestream_tags'\G
#    SHOW CREATE TABLE `isupipe`.`livestream_tags`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM livestream_tags WHERE livestream_id = 7529\G

# Query 14: 1.44 QPS, 0.08x concurrency, ID 0xA3401CA3ABCC04C3AB221DB8AD5CBF26 at byte 37515127
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.03
# Time range: 2023-11-25T07:15:21 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     108
# Exec time      1      6s     5ms   170ms    58ms   134ms    42ms    53ms
# Lock time      0   136us       0    19us     1us     1us     1us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   3 923.80k   8.55k   8.55k   8.55k   8.55k       0   8.55k
# Query size     0  10.34k      98      98      98      98       0      98
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ###########################
#  10ms  ################################################################
# 100ms  ###########################
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'reservation_slots'\G
#    SHOW CREATE TABLE `isupipe`.`reservation_slots`\G
UPDATE reservation_slots SET slot = slot - 1 WHERE start_at >= 1701108000 AND end_at <= 1701140400\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select  slot = slot - 1 from reservation_slots where  start_at >= 1701108000 AND end_at <= 1701140400\G

# Query 15: 1.47 QPS, 0.07x concurrency, ID 0x7F9C0C0BA9473953B723EE16C08655F1 at byte 28864674
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.02
# Time range: 2023-11-25T07:15:21 to 2023-11-25T07:16:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     109
# Exec time      1      5s     5ms   134ms    46ms   100ms    32ms    42ms
# Lock time      0   473us       0   359us     4us     1us    33us     1us
# Rows sent      0     968       1      21    8.88   18.53    6.19    8.91
# Rows examine   3 932.35k   8.55k   8.55k   8.55k   8.55k       0   8.55k
# Query size     0  10.22k      96      96      96      96       0      96
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ######################
#  10ms  ################################################################
# 100ms  ######
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'reservation_slots'\G
#    SHOW CREATE TABLE `isupipe`.`reservation_slots`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM reservation_slots WHERE start_at >= 1701039600 AND end_at <= 1701108000 FOR UPDATE\G

# Query 16: 157.96 QPS, 0.07x concurrency, ID 0xD6032FE08E1FE706A928B8B7CBA06B85 at byte 36943919
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:25 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          3   11215
# Exec time      1      5s    59us    28ms   438us     2ms   995us   113us
# Lock time      4    42ms       0     5ms     3us     1us    79us     1us
# Rows sent      3  10.95k       1       1       1       1       0       1
# Rows examine   0  10.95k       1       1       1       1       0       1
# Query size     1 448.74k      38      41   40.97   40.45    0.30   40.45
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ####################################
# 100us  ################################################################
#   1ms  ############
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'livestreams'\G
#    SHOW CREATE TABLE `isupipe`.`livestreams`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM livestreams WHERE id = 7528\G

# Query 17: 16.93 QPS, 0.05x concurrency, ID 0xD2A0864774622BA36F6557496405CF75 at byte 96176851
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:11 to 2023-11-25T07:16:36
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1439
# Exec time      1      4s    88us    26ms     3ms     5ms     2ms     3ms
# Lock time      0     4ms       0     1ms     2us     1us    34us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     0  80.59k      55      60   57.35   56.92    1.25   56.92
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  ##################
#   1ms  ################################################################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'themes'\G
#    SHOW CREATE TABLE `isupipe`.`themes`\G
INSERT INTO themes (user_id, dark_mode) VALUES(1395, 1)\G

# Query 18: 125 QPS, 0.47x concurrency, ID 0xDFFCC1D78939C4D781C7C58349101F50 at byte 571332
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-25T07:15:11 to 2023-11-25T07:15:19
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1000
# Exec time      1      4s     2ms     9ms     4ms     5ms   774us     4ms
# Lock time      0     1ms       0    11us     1us     1us       0     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     1 401.18k     192     463  410.81  420.77   16.87  400.73
# String:
# Databases    isupipe
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isupipe` LIKE 'users'\G
#    SHOW CREATE TABLE `isupipe`.`users`\G
INSERT INTO users (id, name, display_name, description, password) VALUES (646, 'hiroshiendo0', '感慨', '普段営業をしています。\nよろしくおねがいします！\n\n連絡は以下からお願いします。\n\nウェブサイト: http://hiroshiendo.example.com/\nメールアドレス: hiroshiendo@example.com\n', '$2a$04$UwZb6IFm4tgS1pLvujdaV.sK3Gq9zN2IJyIuGjqtMyuSL/dZXfqjK')\G
